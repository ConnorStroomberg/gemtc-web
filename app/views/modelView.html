<div class="row">
  <div class="columns large-12">
    <div ng-switch on="progress.percentage">

      <span ng-switch-default>
        <h4 class="inline-header">Loading model / {{progress.percentage}} % complete</h4>
      </span>

      <div ng-switch-when="100">

        <div class="row">
          <div class="columns large-4">
            <h4 class="inline-header" >Random effects {{result.results.type}} model</h4>
            <div class="panel">
              <dl>
                <dt>Outcome</dt>
                <dd>{{outcome.name}}</dd>
              </dl>
            </div>
          </div>
        </div>
        <div class="table-title">Relative effects table comparing the project's defined interventions: odds ratio (95% CrI).
          <br> Each cell gives the effect of the column-defining intervention relative to the row-defining intervention.
          <span ng-show="result.results.logScale">(log scale)</span>
        </div>
        <table>
          <tr ng-repeat="relativeEffectsRow in relativeEffectsTable.rows">
            <td class="text-center" ng-class="{'empty-cell': $index <= $parent.$index-1}" ng-repeat="relativeEffectsCell in relativeEffectsRow.cells" ng-switch="relativeEffectsCell.cellType">

             <span ng-switch-when="effect">
              {{relativeEffectsCell.mean | number: 3}} ({{relativeEffectsCell.lowerBound | number: 3}}, {{relativeEffectsCell.upperBound | number: 3}})
            </span>
            <span ng-switch-when="label" class="table-cell-label">
              {{relativeEffectsCell.label}}
            </span>
            <span ng-switch-when="empty"> </span> 
          </td>
        </tr>
      </table>
      <div>
        <dl>
          <dt>Random effects standard deviation</dt>
          <dd>
            {{result.results.summaries.quantiles["sd.d"]["50%"] | number: 3}} ({{result.results.summaries.quantiles["sd.d"]["2.5%"] | number: 3}}, {{result.results.summaries.quantiles["sd.d"]["97.5%"] | number: 3}})
          </dd>
        </dl>
        
      </div>
      <div style="width: 400px; height: 400px">
        <h5>Rank probabilities</h5>
        <gemtc-rank-plot value="result.results.rankProbabilities" stacked="true">
      </div>


    </div>
  </div>
</div>

<!-- <div class="row">
  <div class="columns large-12">
    <pre>{{result | json}}</pre>
  </div>
</div> -->

